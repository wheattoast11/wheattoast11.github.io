const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-B7YE6uff.js","assets/animation-BpB084fZ.js","assets/vendor-BjBuZqNI.js","assets/three-1o6cl0i7.js","assets/Manifesto-bxDWd7XB.js"])))=>i.map(i=>d[i]);
import{j as e}from"./animation-BpB084fZ.js";import{a as t,R as r,r as s,c as i,b as n}from"./vendor-BjBuZqNI.js";import{G as o,L as a,A as l,B as h,V as u,a as d,I as c,M as m,D as f,b as p,O as g,F as v,S as w,U as x,c as M,W as T,H as b,N as C,C as S,d as y,e as P,f as _,P as D,g as R,h as E,i as F,j as B,k as L}from"./three-1o6cl0i7.js";var U;!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var z=t;U=z.createRoot,z.hydrateRoot;const A={},I=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const e=document.querySelector("meta[property=csp-nonce]"),r=(null==e?void 0:e.nonce)||(null==e?void 0:e.getAttribute("nonce"));s=Promise.allSettled(t.map((e=>{if((e=function(e){return"/"+e}(e))in A)return;A[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const i=document.createElement("link");return i.rel=t?"stylesheet":"modulepreload",t||(i.as="script"),i.crossOrigin="",i.href=e,r&&i.setAttribute("nonce",r),document.head.appendChild(i),t?new Promise(((t,r)=>{i.addEventListener("load",t),i.addEventListener("error",(()=>r(new Error(`Unable to preload CSS for ${e}`))))})):void 0})))}function i(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return s.then((t=>{for(const e of t||[])"rejected"===e.status&&i(e.reason);return e().catch(i)}))},H=Math.sqrt(5),k=(H-1)/4,j=(5-H)/20,O=e=>0|Math.floor(e),Q=new Float64Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]);function V(e=Math.random){const t=function(e){const t=512,r=new Uint8Array(t);for(let s=0;s<t/2;s++)r[s]=s;for(let s=0;s<t/2-1;s++){const t=s+~~(e()*(256-s)),i=r[s];r[s]=r[t],r[t]=i}for(let s=256;s<t;s++)r[s]=r[s-256];return r}(e),r=new Float64Array(t).map((e=>Q[e%32*4])),s=new Float64Array(t).map((e=>Q[e%32*4+1])),i=new Float64Array(t).map((e=>Q[e%32*4+2])),n=new Float64Array(t).map((e=>Q[e%32*4+3]));return function(e,o,a,l){let h,u,d,c,m;const f=(e+o+a+l)*k,p=O(e+f),g=O(o+f),v=O(a+f),w=O(l+f),x=(p+g+v+w)*j,M=e-(p-x),T=o-(g-x),b=a-(v-x),C=l-(w-x);let S=0,y=0,P=0,_=0;M>T?S++:y++,M>b?S++:P++,M>C?S++:_++,T>b?y++:P++,T>C?y++:_++,b>C?P++:_++;const D=S>=3?1:0,R=y>=3?1:0,E=P>=3?1:0,F=_>=3?1:0,B=S>=2?1:0,L=y>=2?1:0,U=P>=2?1:0,z=_>=2?1:0,A=S>=1?1:0,I=y>=1?1:0,H=P>=1?1:0,Q=_>=1?1:0,V=M-D+j,W=T-R+j,N=b-E+j,K=C-F+j,q=M-B+2*j,Y=T-L+2*j,G=b-U+2*j,X=C-z+2*j,$=M-A+3*j,Z=T-I+3*j,J=b-H+3*j,ee=C-Q+3*j,te=M-1+4*j,re=T-1+4*j,se=b-1+4*j,ie=C-1+4*j,ne=255&p,oe=255&g,ae=255&v,le=255&w;let he=.6-M*M-T*T-b*b-C*C;if(he<0)h=0;else{const e=ne+t[oe+t[ae+t[le]]];he*=he,h=he*he*(r[e]*M+s[e]*T+i[e]*b+n[e]*C)}let ue=.6-V*V-W*W-N*N-K*K;if(ue<0)u=0;else{const e=ne+D+t[oe+R+t[ae+E+t[le+F]]];ue*=ue,u=ue*ue*(r[e]*V+s[e]*W+i[e]*N+n[e]*K)}let de=.6-q*q-Y*Y-G*G-X*X;if(de<0)d=0;else{const e=ne+B+t[oe+L+t[ae+U+t[le+z]]];de*=de,d=de*de*(r[e]*q+s[e]*Y+i[e]*G+n[e]*X)}let ce=.6-$*$-Z*Z-J*J-ee*ee;if(ce<0)c=0;else{const e=ne+A+t[oe+I+t[ae+H+t[le+Q]]];ce*=ce,c=ce*ce*(r[e]*$+s[e]*Z+i[e]*J+n[e]*ee)}let me=.6-te*te-re*re-se*se-ie*ie;if(me<0)m=0;else{const e=ne+1+t[oe+1+t[ae+1+t[le+1]]];me*=me,m=me*me*(r[e]*te+s[e]*re+i[e]*se+n[e]*ie)}return 27*(h+u+d+c+m)}}class W{constructor(){this.noise4D=V(),this.group=new o,this.lines=[],this.particleCount=150,this.segmentCount=100,this.material=new a({color:8035999,transparent:!0,opacity:.3,blending:l}),this.init()}createFlowLine(){const e=[],t=new h,r=new u(100*(Math.random()-.5),100*(Math.random()-.5),100*(Math.random()-.5));e.push(r.clone());for(let s=1;s<this.segmentCount;s++){const t=e[s-1].clone(),r=this.noise4D(.02*t.x,.02*t.y,.02*t.z,.1*s)*Math.PI*2,i=.5*Math.cos(r),n=.5*Math.sin(r),o=.25*(Math.cos(r)+Math.sin(r));e.push(new u(t.x+i,t.y+n,t.z+o))}t.setFromPoints(e);return{line:new d(t,this.material),points:e.map((e=>e.clone()))}}init(){for(let e=0;e<this.particleCount;e++){const e=this.createFlowLine();this.lines.push(e),this.group.add(e.line)}}update(e){this.lines.forEach(((t,r)=>{const s=t.points.map(((t,s)=>{const i=this.noise4D(.02*t.x,.02*t.y,.02*t.z,e+.1*r);return new u(t.x+.1*Math.cos(i*Math.PI*2),t.y+.1*Math.sin(i*Math.PI*2),t.z+.05*(Math.cos(i*Math.PI)+Math.sin(i*Math.PI)))}));t.line.geometry.setFromPoints(s),t.line.geometry.computeBoundingSphere()})),this.group.rotation.x+=1e-4,this.group.rotation.y+=1e-4}}class N{constructor(){this.noise4D=V(),this.spheres=[],this.materials=[],this.baseGeometry=new c(1,3),this.createMaterials(),this.init()}createMaterials(){[5270655,8035999,4217967].forEach((e=>{this.materials.push(new m({color:e,transparent:!0,opacity:.2,shininess:100,specular:8035999,side:f,wireframe:Math.random()>.7}))}))}init(){for(let e=0;e<20;e++){const e=new p(this.baseGeometry,this.materials[Math.floor(Math.random()*this.materials.length)]),t=30+30*Math.random(),r=Math.random()*Math.PI*2,s=Math.random()*Math.PI;e.position.set(t*Math.sin(s)*Math.cos(r),t*Math.sin(s)*Math.sin(r),t*Math.cos(s)),e.scale.setScalar(2*Math.random()+.5),e.userData={originalPosition:e.position.clone(),rotationSpeed:.002*(Math.random()-.5),pulseSpeed:.002*Math.random()+.001,pulseOffset:Math.random()*Math.PI*2},this.spheres.push(e)}}update(e){this.spheres.forEach(((t,r)=>{const s=this.noise4D(.02*t.position.x,.02*t.position.y,.02*t.position.z,e),i=t.userData.originalPosition;t.position.x=i.x+2*Math.cos(e+r)*s,t.position.y=i.y+2*Math.sin(e+r)*s,t.position.z=i.z+2*Math.cos(.5*e+r)*s,t.rotation.x+=t.userData.rotationSpeed,t.rotation.y+=1.2*t.userData.rotationSpeed;const n=.1*Math.sin(e*t.userData.pulseSpeed+t.userData.pulseOffset)+1,o=t.userData.originalScale||1;t.scale.setScalar(o*n),t.material.transparent&&(t.material.opacity=.2+.1*Math.sin(2*e+r))}))}dispose(){this.baseGeometry.dispose(),this.materials.forEach((e=>e.dispose()))}}const K={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform float opacity;\n\n\t\tuniform sampler2D tDiffuse;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 texel = texture2D( tDiffuse, vUv );\n\t\t\tgl_FragColor = opacity * texel;\n\n\n\t\t}"};class q{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){}dispose(){}}const Y=new g(-1,1,1,-1,0,1);const G=new class extends h{constructor(){super(),this.setAttribute("position",new v([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new v([0,2,0,0,2,0],2))}};class X{constructor(e){this._mesh=new p(G,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,Y)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}class $ extends q{constructor(e,t){super(),this.textureID=void 0!==t?t:"tDiffuse",e instanceof w?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=x.clone(e.uniforms),this.material=new w({name:void 0!==e.name?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new X(this.material)}render(e,t,r){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=r.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class Z extends q{constructor(e,t){super(),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,t,r){const s=e.getContext(),i=e.state;let n,o;i.buffers.color.setMask(!1),i.buffers.depth.setMask(!1),i.buffers.color.setLocked(!0),i.buffers.depth.setLocked(!0),this.inverse?(n=0,o=1):(n=1,o=0),i.buffers.stencil.setTest(!0),i.buffers.stencil.setOp(s.REPLACE,s.REPLACE,s.REPLACE),i.buffers.stencil.setFunc(s.ALWAYS,n,4294967295),i.buffers.stencil.setClear(o),i.buffers.stencil.setLocked(!0),e.setRenderTarget(r),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),i.buffers.color.setLocked(!1),i.buffers.depth.setLocked(!1),i.buffers.color.setMask(!0),i.buffers.depth.setMask(!0),i.buffers.stencil.setLocked(!1),i.buffers.stencil.setFunc(s.EQUAL,1,4294967295),i.buffers.stencil.setOp(s.KEEP,s.KEEP,s.KEEP),i.buffers.stencil.setLocked(!0)}}class J extends q{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class ee{constructor(e,t){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),void 0===t){const r=e.getSize(new M);this._width=r.width,this._height=r.height,(t=new T(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:b})).texture.name="EffectComposer.rt1"}else this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new $(K),this.copyPass.material.blending=C,this.clock=new S}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const t=this.passes.indexOf(e);-1!==t&&this.passes.splice(t,1)}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}render(e){void 0===e&&(e=this.clock.getDelta());const t=this.renderer.getRenderTarget();let r=!1;for(let s=0,i=this.passes.length;s<i;s++){const t=this.passes[s];if(!1!==t.enabled){if(t.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(s),t.render(this.renderer,this.writeBuffer,this.readBuffer,e,r),t.needsSwap){if(r){const t=this.renderer.getContext(),r=this.renderer.state.buffers.stencil;r.setFunc(t.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),r.setFunc(t.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==Z&&(t instanceof Z?r=!0:t instanceof J&&(r=!1))}}this.renderer.setRenderTarget(t)}reset(e){if(void 0===e){const t=this.renderer.getSize(new M);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,(e=this.renderTarget1.clone()).setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,t){this._width=e,this._height=t;const r=this._width*this._pixelRatio,s=this._height*this._pixelRatio;this.renderTarget1.setSize(r,s),this.renderTarget2.setSize(r,s);for(let i=0;i<this.passes.length;i++)this.passes[i].setSize(r,s)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}class te extends q{constructor(e,t,r=null,s=null,i=null){super(),this.scene=e,this.camera=t,this.overrideMaterial=r,this.clearColor=s,this.clearAlpha=i,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new y}render(e,t,r){const s=e.autoClear;let i,n;e.autoClear=!1,null!==this.overrideMaterial&&(n=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),null!==this.clearColor&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor)),null!==this.clearAlpha&&(i=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),1==this.clearDepth&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:r),!0===this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),null!==this.clearColor&&e.setClearColor(this._oldClearColor),null!==this.clearAlpha&&e.setClearAlpha(i),null!==this.overrideMaterial&&(this.scene.overrideMaterial=n),e.autoClear=s}}const re={name:"LuminosityHighPassShader",shaderID:"luminosityHighPass",uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new y(0)},defaultOpacity:{value:0}},vertexShader:"\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvUv = uv;\n\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\n\t\t}",fragmentShader:"\n\n\t\tuniform sampler2D tDiffuse;\n\t\tuniform vec3 defaultColor;\n\t\tuniform float defaultOpacity;\n\t\tuniform float luminosityThreshold;\n\t\tuniform float smoothWidth;\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\tvec4 texel = texture2D( tDiffuse, vUv );\n\n\t\t\tvec3 luma = vec3( 0.299, 0.587, 0.114 );\n\n\t\t\tfloat v = dot( texel.xyz, luma );\n\n\t\t\tvec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );\n\n\t\t\tfloat alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );\n\n\t\t\tgl_FragColor = mix( outputColor, texel, alpha );\n\n\t\t}"};class se extends q{constructor(e,t,r,s){super(),this.strength=void 0!==t?t:1,this.radius=r,this.threshold=s,this.resolution=void 0!==e?new M(e.x,e.y):new M(256,256),this.clearColor=new y(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let i=Math.round(this.resolution.x/2),n=Math.round(this.resolution.y/2);this.renderTargetBright=new T(i,n,{type:b}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let l=0;l<this.nMips;l++){const e=new T(i,n,{type:b});e.texture.name="UnrealBloomPass.h"+l,e.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(e);const t=new T(i,n,{type:b});t.texture.name="UnrealBloomPass.v"+l,t.texture.generateMipmaps=!1,this.renderTargetsVertical.push(t),i=Math.round(i/2),n=Math.round(n/2)}const o=re;this.highPassUniforms=x.clone(o.uniforms),this.highPassUniforms.luminosityThreshold.value=s,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new w({uniforms:this.highPassUniforms,vertexShader:o.vertexShader,fragmentShader:o.fragmentShader}),this.separableBlurMaterials=[];const a=[3,5,7,9,11];i=Math.round(this.resolution.x/2),n=Math.round(this.resolution.y/2);for(let l=0;l<this.nMips;l++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(a[l])),this.separableBlurMaterials[l].uniforms.invSize.value=new M(1/i,1/n),i=Math.round(i/2),n=Math.round(n/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=t,this.compositeMaterial.uniforms.bloomRadius.value=.1;this.compositeMaterial.uniforms.bloomFactors.value=[1,.8,.6,.4,.2],this.bloomTintColors=[new u(1,1,1),new u(1,1,1),new u(1,1,1),new u(1,1,1),new u(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const h=K;this.copyUniforms=x.clone(h.uniforms),this.blendMaterial=new w({uniforms:this.copyUniforms,vertexShader:h.vertexShader,fragmentShader:h.fragmentShader,blending:l,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new y,this.oldClearAlpha=1,this.basic=new P,this.fsQuad=new X(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose();for(let e=0;e<this.separableBlurMaterials.length;e++)this.separableBlurMaterials[e].dispose();this.compositeMaterial.dispose(),this.blendMaterial.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(e,t){let r=Math.round(e/2),s=Math.round(t/2);this.renderTargetBright.setSize(r,s);for(let i=0;i<this.nMips;i++)this.renderTargetsHorizontal[i].setSize(r,s),this.renderTargetsVertical[i].setSize(r,s),this.separableBlurMaterials[i].uniforms.invSize.value=new M(1/r,1/s),r=Math.round(r/2),s=Math.round(s/2)}render(e,t,r,s,i){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const n=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),i&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=r.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=r.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);let o=this.renderTargetBright;for(let a=0;a<this.nMips;a++)this.fsQuad.material=this.separableBlurMaterials[a],this.separableBlurMaterials[a].uniforms.colorTexture.value=o.texture,this.separableBlurMaterials[a].uniforms.direction.value=se.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[a]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[a].uniforms.colorTexture.value=this.renderTargetsHorizontal[a].texture,this.separableBlurMaterials[a].uniforms.direction.value=se.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[a]),e.clear(),this.fsQuad.render(e),o=this.renderTargetsVertical[a];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.blendMaterial,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,i&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(r),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=n}getSeperableBlurMaterial(e){const t=[];for(let r=0;r<e;r++)t.push(.39894*Math.exp(-.5*r*r/(e*e))/e);return new w({defines:{KERNEL_RADIUS:e},uniforms:{colorTexture:{value:null},invSize:{value:new M(.5,.5)},direction:{value:new M(.5,.5)},gaussianCoefficients:{value:t}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"#include <common>\n\t\t\t\tvarying vec2 vUv;\n\t\t\t\tuniform sampler2D colorTexture;\n\t\t\t\tuniform vec2 invSize;\n\t\t\t\tuniform vec2 direction;\n\t\t\t\tuniform float gaussianCoefficients[KERNEL_RADIUS];\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tfloat weightSum = gaussianCoefficients[0];\n\t\t\t\t\tvec3 diffuseSum = texture2D( colorTexture, vUv ).rgb * weightSum;\n\t\t\t\t\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\n\t\t\t\t\t\tfloat x = float(i);\n\t\t\t\t\t\tfloat w = gaussianCoefficients[i];\n\t\t\t\t\t\tvec2 uvOffset = direction * invSize * x;\n\t\t\t\t\t\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset ).rgb;\n\t\t\t\t\t\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset ).rgb;\n\t\t\t\t\t\tdiffuseSum += (sample1 + sample2) * w;\n\t\t\t\t\t\tweightSum += 2.0 * w;\n\t\t\t\t\t}\n\t\t\t\t\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\n\t\t\t\t}"})}getCompositeMaterial(e){return new w({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:"varying vec2 vUv;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t\t\t}",fragmentShader:"varying vec2 vUv;\n\t\t\t\tuniform sampler2D blurTexture1;\n\t\t\t\tuniform sampler2D blurTexture2;\n\t\t\t\tuniform sampler2D blurTexture3;\n\t\t\t\tuniform sampler2D blurTexture4;\n\t\t\t\tuniform sampler2D blurTexture5;\n\t\t\t\tuniform float bloomStrength;\n\t\t\t\tuniform float bloomRadius;\n\t\t\t\tuniform float bloomFactors[NUM_MIPS];\n\t\t\t\tuniform vec3 bloomTintColors[NUM_MIPS];\n\n\t\t\t\tfloat lerpBloomFactor(const in float factor) {\n\t\t\t\t\tfloat mirrorFactor = 1.2 - factor;\n\t\t\t\t\treturn mix(factor, mirrorFactor, bloomRadius);\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\t\t\t\t\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +\n\t\t\t\t\t\tlerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\n\t\t\t\t}"})}}se.BlurDirectionX=new M(1,0),se.BlurDirectionY=new M(0,1);class ie{constructor(e,t){this.scene=new _,this.camera=new D(75,t.width/t.height,.1,1e3),this.renderer=new R({antialias:window.devicePixelRatio<2,powerPreference:"high-performance",alpha:!0,stencil:!1,depth:!0}),this.renderer.setSize(t.width,t.height),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.renderer.shadowMap.enabled=!1,e.appendChild(this.renderer.domElement);const r=window.innerWidth<768;this.composer=null,this.flowField=new W,this.spheres=new N,this.time=0,this.mouse=new M,this.targetRotation=new M,this.lastTime=0,this.frameInterval=1e3/(r?30:60),this.frames=0,this.lastFpsUpdate=0,this.init(),this.setupLights(),this.setupPostProcessing(),this.setupEventListeners(),this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.renderer.powerPreference="high-performance";new se(new M(window.innerWidth,window.innerHeight),.5,.4,.85).renderTargetSize=.5,this.performanceMode="high",this.fpsHistory=[],this.checkPerformance()}init(){this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.toneMapping=E,this.renderer.toneMappingExposure=1,this.camera.position.setZ(30),this.camera.position.setY(5),this.scene.fog=new F(0,.01),this.scene.add(this.flowField.group),this.spheres.spheres.forEach((e=>this.scene.add(e)))}setupPostProcessing(){this.composer=new ee(this.renderer);const e=new te(this.scene,this.camera);this.composer.addPass(e);const t=new se(new M(window.innerWidth,window.innerHeight),.5,.4,.85);this.composer.addPass(t)}setupLights(){const e=new B(4210752,.8),t=new L(8035999,2);t.position.set(10,10,10);const r=new L(5270655,1.5);r.position.set(-10,-10,-10),this.scene.add(e,t,r)}setupEventListeners(){window.addEventListener("resize",(()=>{this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight),this.composer.setSize(window.innerWidth,window.innerHeight)})),document.addEventListener("mousemove",(e=>{this.mouse.x=e.clientX/window.innerWidth*2-1,this.mouse.y=-e.clientY/window.innerHeight*2+1,this.targetRotation.x=.1*this.mouse.y,this.targetRotation.y=.1*this.mouse.x}))}animate(e){if(e-this.lastTime<this.frameInterval)return void requestAnimationFrame(this.animate.bind(this));const t=e-this.lastTime;this.lastTime=e,this.frames++,e-this.lastFpsUpdate>1e3&&(this.frames=0,this.lastFpsUpdate=e),this.flowField.update(this.time,t),this.spheres.update(this.time,t),window.innerWidth<768&&(this.renderer.setPixelRatio(1),this.composer.passes.forEach((e=>{var t;(null==(t=e.uniforms)?void 0:t.resolution)&&e.uniforms.resolution.value.set(window.innerWidth/2,window.innerHeight/2)}))),this.composer.render(),requestAnimationFrame(this.animate.bind(this))}dispose(){this.renderer.dispose(),this.scene.traverse((e=>{e.geometry&&e.geometry.dispose(),e.material&&(Array.isArray(e.material)?e.material.forEach((e=>e.dispose())):e.material.dispose())}))}checkPerformance(){setInterval((()=>{const e=this.fpsHistory.reduce(((e,t)=>e+t),0)/this.fpsHistory.length;e<30&&"low"!==this.performanceMode?this.setLowPerformanceMode():e>45&&"high"!==this.performanceMode&&this.setHighPerformanceMode(),this.fpsHistory=[]}),1e3)}setLowPerformanceMode(){this.performanceMode="low",this.renderer.setPixelRatio(1),this.flowField.particleCount=Math.floor(.7*this.flowField.particleCount),this.spheres.spheres.forEach((e=>{e.material.wireframe&&(e.visible=!1)}))}setHighPerformanceMode(){this.performanceMode="high",this.renderer.setPixelRatio(Math.min(window.devicePixelRatio,2)),this.flowField.particleCount=Math.floor(1.3*this.flowField.particleCount),this.spheres.spheres.forEach((e=>{e.visible=!0}))}}r.memo((function(){const t=s.useRef(null),r=s.useRef(null),[i,n]=s.useState({width:0,height:0}),o=s.useCallback((()=>{if(t.current){const{clientWidth:e,clientHeight:r}=t.current;n({width:e,height:r})}}),[]);return s.useEffect((()=>{const e=new ResizeObserver(o);return t.current&&e.observe(t.current),()=>e.disconnect()}),[o]),s.useEffect((()=>{if(t.current&&0!==i.width){try{r.current?r.current.resize(i):(r.current=new ie(t.current,i),r.current.animate(0))}catch(e){}return()=>{r.current&&(r.current.dispose(),r.current=null)}}}),[i]),e.jsx("div",{ref:t,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:-1,background:"#000000",overflow:"hidden"},"aria-hidden":"true"})}));class ne extends r.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){var t,r,s;return!e||(null==(t=e.message)?void 0:t.includes("Failed to load resource"))||(null==(r=e.message)?void 0:r.includes("Loading chunk"))||(null==(s=e.message)?void 0:s.includes("Loading CSS chunk"))?null:{hasError:!0}}componentDidCatch(e,t){var r,s,i;!e||(null==(r=e.message)?void 0:r.includes("Failed to load resource"))||(null==(s=e.message)?void 0:s.includes("Loading chunk"))||(null==(i=e.message)?void 0:i.includes("Loading CSS chunk"))||this.setState({error:e,errorInfo:t})}componentDidMount(){}componentDidUpdate(){}render(){return this.state.hasError?e.jsx("div",{style:{padding:"2rem",textAlign:"center",minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",background:"#000000",color:"white",fontFamily:"system-ui, -apple-system, sans-serif"},children:e.jsxs("div",{children:[e.jsx("h1",{children:"Something went wrong"}),e.jsx("p",{children:"Please refresh the page or try again later."}),!1]})}):this.props.children}}const oe=s.lazy((()=>I((()=>import("./Home-B7YE6uff.js")),__vite__mapDeps([0,1,2,3])))),ae=s.lazy((()=>I((()=>import("./Manifesto-bxDWd7XB.js")),__vite__mapDeps([4,1,2])))),le=i([{path:"/",element:e.jsx(oe,{})},{path:"/manifesto",element:e.jsx(ae,{})}],{future:{v7_startTransition:!0,v7_relativeSplatPath:!0}});function he(){return s.useEffect((()=>{var e;"performance"in window&&window.performance.mark("app_start"),(e=console.log)&&e instanceof Function&&I((async()=>{const{getCLS:e,getFID:t,getFCP:r,getLCP:s,getTTFB:i}=await import("./web-vitals-BJUkJDow.js");return{getCLS:e,getFID:t,getFCP:r,getLCP:s,getTTFB:i}}),[]).then((({getCLS:t,getFID:r,getFCP:s,getLCP:i,getTTFB:n})=>{t(e),r(e),s(e),i(e),n(e)}))}),[]),e.jsx(ne,{children:e.jsx(n,{router:le})})}U(document.getElementById("root")).render(e.jsx(r.StrictMode,{children:e.jsx(he,{})}));export{ie as S};
//# sourceMappingURL=index-7Bn6lZHa.js.map
